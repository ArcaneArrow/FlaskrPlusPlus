{% extends "layout.html" %}
{% block body %}
  <form action="{{ url_for('add_entry') }}" method="post" class="add-entry">
    <div class="mb-3">
      <label for="InputTitle1" class="form-label">Title</label>
      <input name="title" type="text" class="form-control" id="InputTitle1">
    </div>
    <div class="mb-3">
      <label for="InputCategory1" class="form-label">Category</label>
      <input name="category" type="text" class="form-control" id="InputCategory1">
    </div>
    <div class="mb-3">
      <label for="InputText1" class="form-label">Text</label>
      <input name="text" type="text" class="form-control" id="InputText1">
    </div>
    <button type="submit" class="btn btn-primary">Share</button>
  </form>
  <h2>Categories</h2>
  <ul class="categories">
    <li><a href="?">[all]</a></li>
  {% for category in categories %}
    <li><a href="?category={{ category.category }}">{{ category.category }}</a></li>
  {% endfor %}
  </ul>
  <h2>Posts</h2>
  <div class="container text-center">
  {% for entry in entries %}
    <div class="row">
      <div class="col">
        <h3>{{ entry.title }}</h3>
      </div>
      <div class="col">
        <i>[{{ entry.category }}]</i>
      </div>
      <div class="col">
        <form action="{{ url_for('delete_entry') }}" method="post">
          <input type="hidden" name="id" value="{{ entry.id }}">
          <button type="submit" class="del-button">Delete</button>
        </form>
      </div>
      <div class="col">
        <form action="{{ url_for('edit_entry') }}" method="post">
          <input type="hidden" name="id" value="{{ entry.id }}">
          <button type="submit" class="edit-button">Edit</button>
        </form>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <p>{{ entry.text|safe }}</p>
      </div>
    </div>
  {% else %}
    <div class="row">
      <div class="col">
        <em>Unbelievable.  No entries here so far</em>
      </div>
    </div>
  {% endfor %}
  </div>
{% endblock %}
